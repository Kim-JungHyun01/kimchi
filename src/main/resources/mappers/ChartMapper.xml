<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kr.kimchi.mappers.ChartMapper">

	<!-- 전체 재고 정보 쿼리 -->
	<select id="chartData" parameterType="map"
		resultType="com.kr.kimchi.vo.ChartVO">
		SELECT ma_name,
		SUM(ma_stockQuantity) AS totalQuantity,
		SUM(ma_stockValue) AS totalValue
		FROM material
		GROUP BY ma_name
	</select>

	<!-- 날짜별 전체 재고 총액 쿼리 -->
	<select id="totalStockChart" resultType="map">
		SELECT DATE(ma_date) AS
		date,
		SUM(ma_stockValue) AS totalValue
		FROM material
		WHERE (ma_date
		BETWEEN '2024-09-08' AND '2024-09-13'
		OR ma_update BETWEEN '2024-09-08'
		AND '2024-09-13')
		GROUP BY DATE(ma_date)
		ORDER BY DATE(ma_date)
	</select>




</mapper>
